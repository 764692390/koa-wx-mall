!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.dmgload=t()}(this,function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var A in o)Object.prototype.hasOwnProperty.call(o,A)&&(e[A]=o[A])}return e},t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,o={selector:".lazyload",offset:50,debounce_time:30,throttle_time:300,default_img:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAABFCAYAAAAB8xWyAAAACXBIWXMAAAsSAAALEgHS3X78AAAAJUlEQVRoge3BMQEAAADCoPVP7WMMoAAAAAAAAAAAAAAAAAAA4AY6fQABFpNNRwAAAABJRU5ErkJggg=="};function A(e){for(var t,o,A,n=document.querySelectorAll(e.selector),r=0;r<n.length;r++){var i=n[r];if("IMG"==i.tagName&&i.hasAttribute("data-src")){var a=i.getAttribute("data-src");t=i,o=e.offset,void 0,(A=t.getBoundingClientRect()).top<=window.innerHeight+o&&A.bottom+o>=0&&a&&(i.src=a,i.onerror=function(){i.src=e.default_img},i.className=i.className.replace(e.selector.slice(1),""))}}}return{lazyload:function(){var n,r,i,a,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=e({},o,d),c=(n=A,r=s,a=new Date,function(){var e=new Date;clearTimeout(i),e-a>=r.throttle_time?(n(r),a=e):i=setTimeout(function(){n(r)},r.debounce_time)});if(window.addEventListener("scroll",c),document.body.addEventListener("touchmove",c),t){new t(c).observe(document.body,{childList:!0,subtree:!0})}else setInterval(c,s.throttle_time);c()}}});
